__author__ = "Lukas Mahler"
__version__ = "0.0.0"
__date__ = "11.08.2024"
__email__ = "m@hler.eu"
__status__ = "Development"

import unittest

from cs2inspect import link_type

inspect_links = [
    ["masked", "%2000188004202628063003388783EBE60340AC0369DA0A5E"],
    ["masked", "%2000182420ED052804300438E980DDD10340F801D2B25674"],
    ["masked", "%2000180920332806300438A4DAD1DD0340F201620A0800108F011D00000000620A080310F5291D000000006214080410AA341D000000003D90736D3D4520BE70BDE95F703E"],
    ["masked", "%2000180420D809280430043886A6FCFB0340B30180CE77F8"],
    ["masked", "%20001807200E2805300438F98599F40340A4066209080110521D0000000062090802103A1D00000000620A080010D4171D00000000D0440DC4"],
    ["masked", "%200018F90320A2032806300338818EAED20340CA01B473CF7A"],
    ["masked", "%2000180320D2012801300438AAEE85E70340D002AB980400"],
    ["unmasked", "%20S76561199149844745A30798868460D12026344835740357769"],
    ["unmasked", " S76561198209361951A29266504583D2741615614497444073"],
    ["unmasked", "%20S76561199057533824A31158939620D2461437989276569809"],
    ["unmasked", "%20S76561198964413187A31134260874D2335374420461215379"],
    ["unmasked", " S76561198300867867A23462051195D902024205045204492"],
    ["unmasked", "%20S76561197995448408A4054148175D17207215016258780820"],
    ["unmasked", " S76561198159542197A23416942499D16755262097168704222"],
    ["unmasked", "%20S76561199115762540A31852138159D11542163093305809260"],
    ["unmasked", "%20S76561199115762540A31852138079D153730307246033418"],
    ["unmasked", "%20M192910765527800011A6821782826D12448732401095902702"],
    ["unmasked", "%20M3167648443666392030A17181655965D7847035216649796847"],
    ["unmasked", "%20S76561199211404903A32405037775D14891820978382387977"],
    ["unmasked", "%20S76561199217365090A35726757199D16438808030994427917"],
    ["unmasked", "%20S76561199152911857A37928203155D444214297962160867"],
    ["unmasked", "%20S76561198111020129A39082813761D14123891968912072517"],
    ["masked", "00180420D809280430043886A6FCFB0340B30180CE77F8"],
    ["masked", "001807200E2805300438F98599F40340A4066209080110521D0000000062090802103A1D00000000620A080010D4171D00000000D0440DC4"],
    ["masked", "0018F90320A2032806300338818EAED20340CA01B473CF7A"],
    [None, "steam://rungame/1234/76561202255233023/+csgo_econ_action_preview%20InvalidEnding"],
    [None, "0018F90320A2032806300f338818EAED20340CA01B473CF7A"],
    [None, "0018F90320A20328063-00338818EAED20340CA01B473CF7A"],
]


class TestLinkType(unittest.TestCase):

    def test_link_type_cases(self):
        prefix = "steam://rungame/730/76561202255233023/+csgo_econ_action_preview"

        for expected_result, test_case in inspect_links:
            with self.subTest(test_case=test_case):
                inspect_link = prefix + test_case
                self.assertEqual(link_type(inspect_link), expected_result, f"Failed for link: {inspect_link}")


if __name__ == '__main__':
    unittest.main()
